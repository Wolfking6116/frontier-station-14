- type: entity
  parent: PortableGeneratorPacman
  id: PortableGeneratorPacmanShuttle
  suffix: Plasma, 15 kW, Ship
  components:
    - type: FuelGenerator
      on: true
    - type: Transform
      anchored: true
    - type: MaterialStorage
      storage:
        Plasma: 1000
    - type: PortableGenerator
      startOnMapInit: true

- type: entity
  parent: PortableGeneratorSuperPacman
  id: PortableGeneratorSuperPacmanShuttle
  suffix: Uranium, 30 kW, Ship
  components:
    - type: FuelGenerator
      on: true
    - type: Transform
      anchored: true
    - type: MaterialStorage
      storage:
        Uranium: 1000
    - type: PortableGenerator
      startOnMapInit: true

- type: entity
  parent: PortableGeneratorJrPacman
  id: PortableGeneratorJrPacmanShuttle
  suffix: Welding Fuel, 5 kW, Ship
  components:
    - type: FuelGenerator
      on: true
    - type: Transform
      anchored: true
    - type: SolutionContainerManager
      solutions:
        tank:
          maxVol: 100 # Frontier - 50<100
          reagents:
          - ReagentId: WeldingFuel
            Quantity: 35
    - type: PortableGenerator
      startOnMapInit: true

- type: entity
  name: proto P.A.C.M.A.N.-type portable generator
  description: |-
    A precursor to the widely known P.A.C.M.A.N. generator for powering a variety of equipment.
    Runs off unrefined, raw plasma ore and is rated for up to 15 kW.
  parent: PortableGeneratorSwitchableBase
  id: ProtoPortableGeneratorPacman
  suffix: RawPlasma, 10 kW
  components:
    - type: Sprite
      layers:
        - state: portgen0
          map: [ "enum.GeneratorVisualLayers.Body" ]
        - state: portgen_on_unlit
          map: [ "enum.GeneratorVisualLayers.Unlit" ]
          shader: unshaded
          visible: false
    - type: GenericVisualizer
      visuals:
        enum.GeneratorVisuals.Running:
          enum.GeneratorVisualLayers.Body:
            True: { state: portgen0on }
            False: { state: portgen0 }
          enum.GeneratorVisualLayers.Unlit:
            True: { visible: true }
            False: { visible: false }

    - type: Machine
      board: ProtoPortableGeneratorPacmanMachineCircuitboard
    - type: FuelGenerator
      minTargetPower: 1000
      maxTargetPower: 15000
      targetPower: 10000
      optimalPower: 10000
      # 45 minutes at max output
      optimalBurnRate: 0.011111
      # a decent curve
      fuelEfficiencyConstant: 0.95
    - type: SolidFuelGeneratorAdapter
      fuelMaterial: Plasma
      multiplier: 0.01
    - type: MaterialStorage
      storageLimit: 3000
      materialWhiteList:
      - RawPlasma
    - type: PortableGenerator
      startChance: 0.8
    - type: UpgradePowerSupplier
      powerSupplyMultiplier: 1.35
      scaling: Exponential
    - type: GeneratorExhaustGas
      gasType: CarbonDioxide
      # 0.75 moles of gas for every 'sheet' of raw plasma.
      moleRatio: 0.75
    - type: PowerMonitoringDevice
      group: Generator
      loadNodes:
        - output_hv
        - output_mv
      sprite: Structures/Power/Generation/portable_generator.rsi
      state: portgen0
    - type: MaterialStorageMagnetPickup # Frontier
      range: 0.30
